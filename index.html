<html>
<head>
<script type="text/javascript" src="Chromecast.js">
 </script>
 <script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"> 
 </script>
 <script>
var sessin = null;
function readyApp()
{
if (!chrome.cast || !chrome.cast.isAvailable) 
{
  
	console.log('Initialization delay');
	setTimeout(initializeCastApi, 1000);

}
}

function initializeCastApi() 
{
    
// request session
  
var sessionRequest = new chrome.cast.SessionRequest(chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID
);
  
var apiConfig = new chrome.cast.ApiConfig(sessionRequest,
    sessionListener,
    receiverListener);

  
chrome.cast.initialize(apiConfig, onInitSuccess, onInitError);

}


function sessionListener(e) 
{
session = e;
console.log('New session');
if (session.media.length != 0) 
{
console.log('Found ' + session.media.length +'sessions.');
}
}

function receiverListener(e) 
{
if( e === 'available' ) 
{
console.log("Chromecast was found on the network.");
}
else 
{
console.log("There are no Chromecasts available.");
}
}

function onInitSuccess() 
{
console.log("Initialization succeeded");
}

function onInitError() 
{
console.log("Initialization failed");
}
 </script>
<title>Chromecast</title>
</head>
<body onload = "readyApp()">
<h1>VideoHub</h1>
<center>
<video width="500" height="300" controls>
    <source src="OneRepublic - Counting Stars_2.mp4" type="video/mp4">
    
  Your browser does not support the video tag.
</video><br>
<br>
<button onclick="launchApp()">Launch app</button>
 <button onclick="stopApp()">Stop app</button>
</center>
</body>
</html>
